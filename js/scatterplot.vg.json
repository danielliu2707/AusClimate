{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 580,
    "height": 350,
    "title": {"text": "Average Temperature vs Average Rainfall by State (2023)", "dy": -30, "font": "Roboto"},
    "data": {
      "url": "https://raw.githubusercontent.com/danielliu2707/FIT3179/main/data/state_temp_rain_humid.csv"
    },
    "params": [
      {
        "name": "Temperature_Above",
        "value": 5,
        "bind": {
          "input": "range",
          "min": 5,
          "max": 33,
          "step": 1,
          "name": "Min Temperature (°C): "
        }
      },
      {
        "name": "Rainfall_Above",
        "value": 0,
        "bind": {
          "input": "range",
          "min": 0,
          "max": 50,
          "step": 1,
          "name": "Min Rainfall (mm): "
        }
      },
      {
        "name": "Humidity_Above",
        "value": 35,
        "bind": {
          "input": "range",
          "min": 35,
          "max": 80,
          "step": 1,
          "name": "Min Humidity (%): "
        }
      }
    ],
    "transform": [
      {"filter": "datum.TemperatureMean > Temperature_Above"},
      {"filter": "datum.RainProportion > Rainfall_Above"},
      {"filter": "datum.RelativeHumidityMean > Humidity_Above"}
    ],
    "layer": [
      {
        "mark": "circle",
        "encoding": {
          "size": {
            "field": "RelativeHumidityMean",
            "title": "Average Humidity (%)",
            "type": "quantitative",
            "scale": {
              "type": "threshold",
              "domain": [40, 50, 60, 70, 80],
              "range": [50, 150, 250, 400, 450, 600]
            },
            "legend": {"orient": "bottom"}
          },
          "x": {
            "field": "TemperatureMean",
            "title": "Average Temperature",
            "type": "quantitative",
            "axis": {"tickCount": 8},
            "scale": {"domain": [5, 35]}
          },
          "y": {
            "field": "RainProportion",
            "type": "quantitative",
            "title": "Average Rainfall",
            "axis": {"tickCount": 6},
            "scale": {"domain": [0, 50]}
          },
          "color": {
            "field": "officialnamestate",
            "type": "nominal",
            "scale": {
              "domain": ["New South Wales", "Queensland", "South Australia", "Tasmania", "Territories", "Victoria", "Western Australia"],
              "range": ["#3585bc", "#fe711a", "#856ef2", "#195f53", "#e685c8", "#97675d", "#2fc5d4"]
            },
            "legend": {
              "title": "",
              "orient": "top",
              "labelFont": "Roboto",
              "labelFontSize": 11
            }
          },
          "opacity": {"value": 0.6},
          "tooltip": [
            {"field": "officialnamestate", "type": "nominal", "title": "State"},
            {"field": "MonthName", "type": "nominal", "title": "Month"},
            {"field": "TemperatureMean", "title": "Temperature (°C)", "type": "quantitative", "format": ".2f"},
            {"field": "RainProportion", "title": "Rainfall (mm)", "type": "quantitative", "format": ".2f"},
            {"field": "RelativeHumidityMean", "title": "Humidity (%)", "type": "quantitative", "format": ".2f"}
          ]
        }
      },
      {
        "layer": [
          {
            "mark": {
              "type": "text",
              "align": "left",
              "baseline": "middle",
              "dx": 0,
              "fontSize": 11.5,
              "fontStyle": "italic",
              "font": "Roboto",
              "color": "black"
            },
            "encoding": {
              "x": {"value": 150},
              "y": {"value": 50},
              "text": {"value": "July was the coldest month across Australia,"},
              "color": {"value": "grey"}
            }
          },
          {
            "mark": {
              "type": "text",
              "align": "left",
              "baseline": "middle",
              "dx": 0,
              "fontSize": 11.5,
              "fontStyle": "italic",
              "font": "Roboto",
              "color": "black"
            },
            "encoding": {
              "x": {"value": 150},
              "y": {"value": 70},
              "text": {"value": "with an average temperature of 12.76°C"},
              "color": {"value": "grey"}
            }
          }
        ]
      },
      {
        "mark": "rule",
        "encoding": {
          "x": {"value": 300},
          "x2": {"value": 380},
          "y": {"value": 60},
          "y2": {"value": 25},
          "color": {"value": "grey"},
          "strokeWidth": {"value": 2}
        }
      },
      {
        "mark": {
          "type": "point",
          "filled": true,
          "shape": "triangle",
          "color": "grey",
          "size": 75,
          "angle": 180
        },
        "encoding": {
          "x": {"value": 380},
          "y": {"value": 25}
        }
      }
    ],
    "config": {
      "title": {"fontSize": 15},
      "legend": {"orient": "top"}
    }
  }